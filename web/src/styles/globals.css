@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fallen.io-inspired design system - Dark, cinematic, documentary */
@layer base {
  :root {
    --color-bg: 10 10 12;
    --color-fg: 245 245 245;
    --color-muted: 115 115 120;
    --color-accent: 139 0 0;
    --color-accent-light: 180 40 40;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-[#0a0a0c] text-[#f5f5f5];
    @apply font-sans antialiased;
    font-feature-settings: "kern" 1, "liga" 1;
  }

  /* Strong serif typography for headings */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif tracking-tight;
    text-rendering: optimizeLegibility;
  }

  h1 {
    @apply text-5xl md:text-6xl lg:text-7xl font-light leading-none;
    letter-spacing: -0.02em;
  }

  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl font-light leading-tight;
    letter-spacing: -0.01em;
  }

  h3 {
    @apply text-2xl md:text-3xl font-normal;
  }

  p {
    @apply leading-relaxed;
  }

  /* Muted selection */
  ::selection {
    @apply bg-[#8b0000]/40 text-white;
  }

  /* Scrollbar - minimal dark style */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-white/20 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-white/30;
  }
}

/* Component styles - Fallen.io aesthetic */
@layer components {
  /* Navigation link */
  .nav-link {
    @apply text-sm uppercase tracking-widest text-white/60 hover:text-white transition-colors duration-300;
    font-weight: 400;
    letter-spacing: 0.2em;
  }

  .nav-link-active {
    @apply text-white border-b border-[#8b0000];
  }

  /* Cards - very subtle */
  .card {
    @apply bg-white/[0.03] border border-white/[0.06] rounded-sm;
  }

  .card-hover {
    @apply card hover:bg-white/[0.05] hover:border-white/10 transition-all duration-300;
  }

  /* Buttons - minimal */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 text-sm uppercase tracking-widest;
    @apply transition-all duration-300 focus:outline-none;
    letter-spacing: 0.15em;
  }

  .btn-primary {
    @apply btn bg-[#8b0000] text-white hover:bg-[#a00000];
  }

  .btn-outline {
    @apply btn border border-white/30 text-white/80 hover:bg-white/10 hover:border-white/50;
  }

  .btn-ghost {
    @apply btn bg-transparent text-white/60 hover:text-white;
  }

  /* Form inputs - dark theme */
  .input {
    @apply w-full px-4 py-3 rounded-sm border border-white/10;
    @apply bg-white/[0.03] text-white;
    @apply focus:outline-none focus:border-[#8b0000]/50;
    @apply placeholder:text-white/30;
  }

  /* Badges - subtle */
  .badge {
    @apply inline-flex items-center px-2 py-0.5 text-2xs uppercase tracking-wider;
    letter-spacing: 0.1em;
  }

  .badge-default {
    @apply badge bg-white/10 text-white/70;
  }

  .badge-war {
    @apply badge bg-[#8b0000]/30 text-[#ff6b6b];
  }

  .badge-massacre {
    @apply badge bg-[#660000]/40 text-[#ff8888];
  }

  .badge-famine {
    @apply badge bg-amber-900/30 text-amber-400;
  }

  .badge-uprising {
    @apply badge bg-orange-900/30 text-orange-400;
  }

  .badge-riot {
    @apply badge bg-yellow-900/30 text-yellow-400;
  }

  /* Dividers */
  .divider {
    @apply border-t border-white/10;
  }

  /* Stat display - large numbers */
  .stat-number {
    @apply text-5xl md:text-6xl lg:text-7xl font-light text-[#8b0000];
    font-variant-numeric: tabular-nums;
    letter-spacing: -0.02em;
  }

  .stat-label {
    @apply text-xs uppercase tracking-widest text-white/50 mt-2;
    letter-spacing: 0.2em;
  }

  /* Timeline marker */
  .timeline-dot {
    @apply w-2 h-2 rounded-full bg-[#8b0000];
  }

  .timeline-dot-active {
    @apply w-3 h-3 bg-white shadow-[0_0_10px_rgba(139,0,0,0.8)];
  }

  /* Content warning */
  .content-warning {
    @apply p-6 bg-[#8b0000]/10 border-l-2 border-[#8b0000];
  }
}

/* Utility classes */
@layer utilities {
  /* Fade gradient for text overflow */
  .fade-bottom {
    mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
  }

  /* Caption text */
  .caption {
    @apply text-xs uppercase tracking-widest text-white/40;
    letter-spacing: 0.15em;
  }

  /* Large body text */
  .lead {
    @apply text-lg md:text-xl text-white/70 leading-relaxed;
  }

  /* Subtle separator line */
  .separator {
    @apply w-12 h-px bg-white/20 my-8;
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 1s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.8s ease-out forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from { 
      opacity: 0; 
      transform: translateY(30px); 
    }
    to { 
      opacity: 1; 
      transform: translateY(0); 
    }
  }
}

/* MapLibre dark theme overrides */
.maplibregl-map {
  font-family: inherit;
}

.maplibregl-popup-content {
  @apply p-4 rounded-sm shadow-2xl;
  @apply bg-[#1a1a1c] border border-white/10;
  @apply text-white;
}

.maplibregl-popup-close-button {
  @apply text-white/50 hover:text-white;
  @apply text-lg p-2;
}

.maplibregl-ctrl-group {
  @apply rounded-sm overflow-hidden shadow-lg bg-[#1a1a1c] border border-white/10;
}

.maplibregl-ctrl-group button {
  @apply w-8 h-8 bg-[#1a1a1c] border-white/10;
}

.maplibregl-ctrl-group button + button {
  @apply border-t border-white/10;
}

.maplibregl-ctrl-group button:hover {
  @apply bg-white/10;
}
